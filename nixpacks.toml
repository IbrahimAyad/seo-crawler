# Nixpacks configuration for Railway deployment
# Includes Chromium and dependencies for Puppeteer

[phases.setup]
nixPkgs = ["nodejs-20_x", "chromium", "nss", "freetype", "harfbuzz", "ca-certificates", "fontconfig"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "npm start"

[env]
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD = "true"
